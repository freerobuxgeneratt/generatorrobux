let selectedPlatform = null; // Переменная для хранения выбранной платформы

function selectPlatform(platform) {
    selectedPlatform = platform; // Сохраняем выбранную платформу
    const platformButtons = document.querySelectorAll('.platform-button');

    platformButtons.forEach(button => {
        button.classList.remove('selected'); // Убираем выделение с других кнопок
    });

    // Выделяем кнопку выбранной платформы
    const selectedButton = Array.from(platformButtons).find(button => button.textContent === platform);
    selectedButton.classList.add('selected');

    // Проверяем возможность активации кнопки "Продолжить"
    checkSubmitButton();
}

function checkSubmitButton() {
    const usernameInput = document.getElementById('username');
    const submitButton = document.getElementById('submitButton');

    // Активируем кнопку только если введено имя и выбрана платформа
    if (usernameInput.value && selectedPlatform) {
        submitButton.style.opacity = '1'; // Полная непрозрачность
        submitButton.style.pointerEvents = 'auto'; // Включаем клики
    } else {
        submitButton.style.opacity = '0.5'; // Полупрозрачность
        submitButton.style.pointerEvents = 'none'; // Отключаем клики
    }
}

function validateUsername() {
    const usernameInput = document.getElementById('username');
    const errorMessage = document.getElementById('error-message');
    const usernamePattern = /^[a-zA-Z0-9]+$/; // Только английские буквы и цифры

    if (!usernamePattern.test(usernameInput.value)) {
        errorMessage.style.display = 'block';
    } else {
        errorMessage.style.display = 'none';
        // Здесь можно добавить дальнейшую логику для обработки имени пользователя
        alert(`Имя пользователя "${usernameInput.value}" успешно введено на платформе ${selectedPlatform}!`);
    }
}

// Обработчик события ввода имени пользователя
document.getElementById('username').addEventListener('input', checkSubmitButton);
